% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/predict.R
\name{predict.RtGam}
\alias{predict.RtGam}
\title{Predict Method for RtGam Models}
\usage{
\method{predict}{RtGam}(
  object,
  parameter = "obs_cases",
  horizon = NULL,
  min_date = NULL,
  max_date = NULL,
  n = 100,
  mean_delay = NULL,
  gi_pmf = NULL,
  seed = 12345,
  ...
)
}
\arguments{
\item{object}{An \code{RtGam} object created using the \code{\link[=RtGam]{RtGam()}}
function.}

\item{parameter}{A character string specifying the prediction target.
Options
are \code{"obs_cases"} (observed cases), \code{"r"} (growth rate), or \code{"Rt"}
reproduction number).
Default is \code{"obs_cases"}.}

\item{horizon}{Optional. An integer indicating the number of days to forecast
beyond the last date in the model fit. For example, \code{horizon = 7} predicts
the next 7 days.}

\item{min_date, max_date}{Optional. Date-like objects specifying the start
and
end of the prediction range. See \strong{Details} for more information on
their usage.}

\item{n}{An integer specifying the number of posterior samples to use
for
predictions. Default is 100.}

\item{mean_delay}{Optional. An integer specifying the mean number of days
between
an individual becoming infected and their case being observed (e.g.,
through
an emergency department visit or hospitalization). This value shifts the
predictions
to account for reporting delays. It is required when
predicting \code{"r"} (growth rate) or \code{"Rt"} (reproduction number).}

\item{gi_pmf}{Optional. A numeric vector specifying the generation
interval
probability mass function (PMF), required when \code{parameter = "Rt"}. The
PMF
must be a proper probability distribution (summing to one) with the first
element
set to zero to exclude same-day transmission, as required by the renewal
equation.
For more information and tools to handle delay distributions, see
the
\href{https://CRAN.R-project.org/package=primarycensored}{primarycensored}
package.}

\item{seed}{An integer specifying the random seed for reproducibility.
Default
is 12345.}

\item{...}{Additional arguments passed to the underlying sampling
functions:
\itemize{
\item When \code{parameter = "obs_cases"}, arguments are passed to \code{gratia: posterior_samples}.
\item When \code{parameter = "r"} or \code{"Rt"}, arguments are passed to \code{gratia: fitted_samples}.
}}
}
\value{
A data frame in
\href{https://www.jstatsoft.org/article/view/v059i10}{tidy format},
where each row represents a posterior draw for a specific date, with the
following columns:
\itemize{
\item \code{reference_date}: The prediction date.
\item \code{.response}: The predicted value for the target parameter.
\item \code{.draw}: The index of the posterior draw.
}

Example output:

\if{html}{\out{<div class="sourceCode">}}\preformatted{  reference_date .response .draw
1     2023-01-01        18     1
2     2023-01-02        13     1
3     2023-01-03        21     1
4     2023-01-01        11     2
5     2023-01-02        19     2
6     2023-01-03        24     2
}\if{html}{\out{</div>}}
}
\description{
Generates posterior draws from an \code{RtGam} fit. Prediction dates can be
specified
flexibly using various approaches, and predictions can be drawn for
different
model parameters.
}
\details{
Prediction dates can be defined in four ways:
\enumerate{
\item \strong{Default Date Range}: By using only the fit object, predictions are made
across the full date range in the original model.
\item \strong{Using \code{horizon}}: Extends predictions up to \code{horizon} days beyond the
last date in the model fit.
\item \strong{Using \code{min_date} and \code{horizon}}: Predictions start from \code{min_date} and
extend up to \code{horizon} days after the fitâ€™s last date.
\item \strong{Using \code{min_date} and \code{max_date}}: Generates predictions for all dates
within this specified range, inclusive.
}

The \code{mean_delay} parameter adjusts predictions for the
temporal lag between infection and case observation. For example, if
\code{mean_delay = 5},
the model assumes that observed cases reflect infections that occurred on
average five days
earlier. This adjustment ensures that estimates of growth rates (\code{"r"}) and
reproduction
numbers (\code{"Rt"}) align with the correct underlying temporal dynamics.

The \code{parameter} argument determines the type of predictions:
\itemize{
\item \code{"obs_cases"}: Observed cases, including uncertainty from the model's
fit.
\item \code{"r"}: Growth rate, calculated using the centered difference between time
steps.
\item \code{"Rt"}: Reproduction number, incorporating delay distributions and
convolution.
}
}
